{"ast":null,"code":"import productsMock from \"../../mocks/products.mock\"; // import API from \"../../axios/API\"; // descomente quando voltar a usar API\n\n/* ====== ACTION TYPES (NÃO COMENTE) ====== */\n\nexport const APPLY_FILTERS_BEGIN = \"APPLY_FILTERS_BEGIN\";\nexport const APPLY_FILTERS_SUCCESS = \"APPLY_FILTERS_SUCCESS\";\nexport const APPLY_FILTERS_FAIL = \"APPLY_FILTERS_FAIL\";\nexport const SEARCH_BEGIN = \"SEARCH_BEGIN\";\nexport const SEARCH_SUCCESS = \"SEARCH_SUCCESS\";\nexport const SEARCH_FAIL = \"SEARCH_FAIL\";\nexport const GET_ALL_PRODUCTS_BEGIN = \"GET_ALL_PRODUCTS_BEGIN\";\nexport const GET_ALL_PRODUCTS_SUCCESS = \"GET_ALL_PRODUCTS_SUCCESS\";\nexport const GET_ALL_PRODUCTS_FAIL = \"GET_ALL_PRODUCTS_FAIL\";\nexport const GET_PRODUCT_BEGIN = \"GET_PRODUCT_BEGIN\";\nexport const GET_PRODUCT_SUCCESS = \"GET_PRODUCT_SUCCESS\";\nexport const GET_PRODUCT_FAIL = \"GET_PRODUCT_FAIL\";\nexport const GET_PRODUCTS_BY_CATEGORY_BEGIN = \"GET_PRODUCTS_BY_CATEGORY_BEGIN\";\nexport const GET_PRODUCTS_BY_CATEGORY_SUCCESS = \"GET_PRODUCTS_BY_CATEGORY_SUCCESS\";\nexport const GET_PRODUCTS_BY_CATEGORY_FAIL = \"GET_PRODUCTS_BY_CATEGORY_FAIL\";\n/* ====== ACTIONS (MOCK) ====== */\n\nexport const getAllProducts = () => dispatch => {\n  dispatch({\n    type: GET_ALL_PRODUCTS_BEGIN\n  });\n\n  try {\n    const res = {\n      data: {\n        products: productsMock\n      }\n    };\n    dispatch({\n      type: GET_ALL_PRODUCTS_SUCCESS,\n      payload: res\n    });\n    return res;\n  } catch (error) {\n    dispatch({\n      type: GET_ALL_PRODUCTS_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  }\n};\nexport const applyFilters = filter_string => dispatch => {\n  dispatch({\n    type: APPLY_FILTERS_BEGIN\n  });\n\n  try {\n    // Mock simples: não aplica filtros de verdade, só retorna tudo.\n    // (Depois dá pra implementar parsing do filter_string se você quiser)\n    const res = {\n      data: productsMock\n    };\n    dispatch({\n      type: APPLY_FILTERS_SUCCESS,\n      payload: res\n    });\n    return res;\n  } catch (error) {\n    dispatch({\n      type: APPLY_FILTERS_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  }\n};\nexport const search = text => dispatch => {\n  dispatch({\n    type: SEARCH_BEGIN\n  });\n\n  try {\n    const q = String(text || \"\").trim().toLowerCase();\n    const filtered = !q ? productsMock : productsMock.filter(p => {\n      const title = String(p.title || \"\").toLowerCase();\n      const desc = String(p.description || \"\").toLowerCase();\n      return title.includes(q) || desc.includes(q);\n    });\n    const res = {\n      data: filtered\n    };\n    dispatch({\n      type: SEARCH_SUCCESS,\n      payload: res\n    });\n    return res;\n  } catch (error) {\n    dispatch({\n      type: SEARCH_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  }\n};\nexport const getProductsByCategory = c => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_BY_CATEGORY_BEGIN\n  });\n\n  try {\n    const cat = String(c || \"\").trim().toLowerCase(); // O template usava \"category\" na query.\n    // No seu mock, eu recomendo usar \"department\" ou \"category\".\n\n    const filtered = !cat ? productsMock : productsMock.filter(p => {\n      const dept = String(p.department || \"\").toLowerCase();\n      const category = String(p.category || \"\").toLowerCase();\n      return dept.includes(cat) || category.includes(cat);\n    });\n    const res = {\n      data: filtered\n    };\n    dispatch({\n      type: GET_PRODUCTS_BY_CATEGORY_SUCCESS,\n      payload: res\n    });\n    return res;\n  } catch (error) {\n    dispatch({\n      type: GET_PRODUCTS_BY_CATEGORY_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  }\n};\nexport const getProduct = id => dispatch => {\n  dispatch({\n    type: GET_PRODUCT_BEGIN\n  });\n\n  try {\n    const item = productsMock.find(p => String(p._id) === String(id));\n    const res = {\n      data: item || null\n    };\n    dispatch({\n      type: GET_PRODUCT_SUCCESS,\n      payload: res\n    });\n    return res;\n  } catch (error) {\n    dispatch({\n      type: GET_PRODUCT_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  }\n};\n/* ====== QUANDO QUISER VOLTAR PRA API ======\nexport const getAllProducts = () => dispatch => { ...API... }\nexport const getProduct = id => dispatch => { ...API... }\nexport const getProductsByCategory = c => dispatch => { ...API... }\nexport const search = text => dispatch => { ...API... }\nexport const applyFilters = filter_string => dispatch => { ...API... }\n*/","map":{"version":3,"sources":["/Users/vitorclaudio/Dev/Bfour E-commerce/fashion-cube/src/redux/actions/productAction.js"],"names":["productsMock","APPLY_FILTERS_BEGIN","APPLY_FILTERS_SUCCESS","APPLY_FILTERS_FAIL","SEARCH_BEGIN","SEARCH_SUCCESS","SEARCH_FAIL","GET_ALL_PRODUCTS_BEGIN","GET_ALL_PRODUCTS_SUCCESS","GET_ALL_PRODUCTS_FAIL","GET_PRODUCT_BEGIN","GET_PRODUCT_SUCCESS","GET_PRODUCT_FAIL","GET_PRODUCTS_BY_CATEGORY_BEGIN","GET_PRODUCTS_BY_CATEGORY_SUCCESS","GET_PRODUCTS_BY_CATEGORY_FAIL","getAllProducts","dispatch","type","res","data","products","payload","error","applyFilters","filter_string","search","text","q","String","trim","toLowerCase","filtered","filter","p","title","desc","description","includes","getProductsByCategory","c","cat","dept","department","category","getProduct","id","item","find","_id"],"mappings":"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","sourcesContent":["\n\nimport productsMock from \"../../mocks/products.mock\";\n// import API from \"../../axios/API\"; // descomente quando voltar a usar API\n\n/* ====== ACTION TYPES (NÃO COMENTE) ====== */\nexport const APPLY_FILTERS_BEGIN = \"APPLY_FILTERS_BEGIN\";\nexport const APPLY_FILTERS_SUCCESS = \"APPLY_FILTERS_SUCCESS\";\nexport const APPLY_FILTERS_FAIL = \"APPLY_FILTERS_FAIL\";\n\nexport const SEARCH_BEGIN = \"SEARCH_BEGIN\";\nexport const SEARCH_SUCCESS = \"SEARCH_SUCCESS\";\nexport const SEARCH_FAIL = \"SEARCH_FAIL\";\n\nexport const GET_ALL_PRODUCTS_BEGIN = \"GET_ALL_PRODUCTS_BEGIN\";\nexport const GET_ALL_PRODUCTS_SUCCESS = \"GET_ALL_PRODUCTS_SUCCESS\";\nexport const GET_ALL_PRODUCTS_FAIL = \"GET_ALL_PRODUCTS_FAIL\";\n\nexport const GET_PRODUCT_BEGIN = \"GET_PRODUCT_BEGIN\";\nexport const GET_PRODUCT_SUCCESS = \"GET_PRODUCT_SUCCESS\";\nexport const GET_PRODUCT_FAIL = \"GET_PRODUCT_FAIL\";\n\nexport const GET_PRODUCTS_BY_CATEGORY_BEGIN = \"GET_PRODUCTS_BY_CATEGORY_BEGIN\";\nexport const GET_PRODUCTS_BY_CATEGORY_SUCCESS = \"GET_PRODUCTS_BY_CATEGORY_SUCCESS\";\nexport const GET_PRODUCTS_BY_CATEGORY_FAIL = \"GET_PRODUCTS_BY_CATEGORY_FAIL\";\n\n/* ====== ACTIONS (MOCK) ====== */\n\nexport const getAllProducts = () => (dispatch) => {\n    dispatch({ type: GET_ALL_PRODUCTS_BEGIN });\n\n    try {\n        const res = { data: { products: productsMock } };\n\n        dispatch({\n            type: GET_ALL_PRODUCTS_SUCCESS,\n            payload: res,\n        });\n\n        return res;\n    } catch (error) {\n        dispatch({\n            type: GET_ALL_PRODUCTS_FAIL,\n            payload: { error },\n        });\n\n        return error;\n    }\n};\nexport const applyFilters = (filter_string) => (dispatch) => {\n    dispatch({ type: APPLY_FILTERS_BEGIN });\n\n    try {\n        // Mock simples: não aplica filtros de verdade, só retorna tudo.\n        // (Depois dá pra implementar parsing do filter_string se você quiser)\n        const res = { data: productsMock };\n\n        dispatch({\n            type: APPLY_FILTERS_SUCCESS,\n            payload: res,\n        });\n\n        return res;\n    } catch (error) {\n        dispatch({\n            type: APPLY_FILTERS_FAIL,\n            payload: { error },\n        });\n        return error;\n    }\n};\n\nexport const search = (text) => (dispatch) => {\n    dispatch({ type: SEARCH_BEGIN });\n\n    try {\n        const q = String(text || \"\").trim().toLowerCase();\n\n        const filtered = !q\n            ? productsMock\n            : productsMock.filter((p) => {\n                const title = String(p.title || \"\").toLowerCase();\n                const desc = String(p.description || \"\").toLowerCase();\n                return title.includes(q) || desc.includes(q);\n            });\n\n        const res = { data: filtered };\n\n        dispatch({\n            type: SEARCH_SUCCESS,\n            payload: res,\n        });\n\n        return res;\n    } catch (error) {\n        dispatch({\n            type: SEARCH_FAIL,\n            payload: { error },\n        });\n        return error;\n    }\n};\n\nexport const getProductsByCategory = (c) => (dispatch) => {\n    dispatch({ type: GET_PRODUCTS_BY_CATEGORY_BEGIN });\n\n    try {\n        const cat = String(c || \"\").trim().toLowerCase();\n\n        // O template usava \"category\" na query.\n        // No seu mock, eu recomendo usar \"department\" ou \"category\".\n        const filtered = !cat\n            ? productsMock\n            : productsMock.filter((p) => {\n                const dept = String(p.department || \"\").toLowerCase();\n                const category = String(p.category || \"\").toLowerCase();\n                return dept.includes(cat) || category.includes(cat);\n            });\n\n        const res = { data: filtered };\n\n        dispatch({\n            type: GET_PRODUCTS_BY_CATEGORY_SUCCESS,\n            payload: res,\n        });\n\n        return res;\n    } catch (error) {\n        dispatch({\n            type: GET_PRODUCTS_BY_CATEGORY_FAIL,\n            payload: { error },\n        });\n        return error;\n    }\n};\n\n\nexport const getProduct = (id) => (dispatch) => {\n    dispatch({ type: GET_PRODUCT_BEGIN });\n\n    try {\n        const item = productsMock.find((p) => String(p._id) === String(id));\n        const res = { data: item || null };\n\n        dispatch({ type: GET_PRODUCT_SUCCESS, payload: res });\n        return res;\n    } catch (error) {\n        dispatch({ type: GET_PRODUCT_FAIL, payload: { error } });\n        return error;\n    }\n};\n\n/* ====== QUANDO QUISER VOLTAR PRA API ======\nexport const getAllProducts = () => dispatch => { ...API... }\nexport const getProduct = id => dispatch => { ...API... }\nexport const getProductsByCategory = c => dispatch => { ...API... }\nexport const search = text => dispatch => { ...API... }\nexport const applyFilters = filter_string => dispatch => { ...API... }\n*/\n"]},"metadata":{},"sourceType":"module"}